# ğŸ“¦ å®‰è£…å‘½ä»¤ï¼ˆInstallï¼‰

&emsp;&emsp;`install` å‘½ä»¤ç”¨äºä¸‹è½½ã€ç¼–è¯‘å’Œå®‰è£…æŒ‡å®šçš„ç¬¬ä¸‰æ–¹åº“ï¼ˆç«¯å£ï¼‰ï¼Œæ”¯æŒå¤šç§æ„å»ºé…ç½®å’Œå®‰è£…æ¨¡å¼ï¼Œå¯ä»¥çµæ´»æ§åˆ¶æ„å»ºè¡Œä¸ºå’Œç¼“å­˜ç­–ç•¥ã€‚

## å‘½ä»¤è¯­æ³•

```shell
celer install [package_name] [é€‰é¡¹]
```

## âš™ï¸ å‘½ä»¤é€‰é¡¹

| é€‰é¡¹              | ç®€å†™ | è¯´æ˜                                   |
|-------------------|------|--------------------------------------|
| --dev             | -d   | ä»¥å¼€å‘æ¨¡å¼å®‰è£…ï¼ˆä»…ç”¨äºæ„å»ºæ—¶ä¾èµ–ï¼‰     |
| --force           | -f   | å¼ºåˆ¶é‡æ–°å®‰è£…ï¼ˆå…ˆå¸è½½å†å®‰è£…ï¼‰           |
| --jobs            | -j   | æŒ‡å®šå¹¶è¡Œæ„å»ºä»»åŠ¡æ•°                     |
| --recursive       | -r   | ä¸ --force é…åˆï¼Œé€’å½’é‡æ–°å®‰è£…æ‰€æœ‰ä¾èµ–  |
| --store-cache     | -s   | å®‰è£…åå°†æ„å»ºäº§ç‰©å­˜å…¥ç¼“å­˜               |
| --cache-token     | -t   | ä¸ --store-cache é…åˆï¼ŒæŒ‡å®šç¼“å­˜ä»¤ç‰Œ    |

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### 1ï¸âƒ£ æ ‡å‡†å®‰è£…

```shell
celer install ffmpeg@5.1.6
```

> å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ FFmpeg åŠå…¶æ‰€æœ‰ä¾èµ–é¡¹ã€‚

### 2ï¸âƒ£ å®‰è£…ä¸ºå¼€å‘æ—¶ä¾èµ–

```shell
celer install pkgconf@2.4.3 --dev
# ç”¨ä½¿ç”¨ç®€å†™
celer install pkgconf@2.4.3 -d
```

> å¼€å‘æ—¶ä¾èµ–ä»…åœ¨æ„å»ºå…¶ä»–åº“æ—¶ä½¿ç”¨ï¼Œä¸ä¼šåŒ…å«åœ¨æœ€ç»ˆçš„é¡¹ç›®éƒ¨ç½²ä¸­ã€‚

### 3ï¸âƒ£ å¼ºåˆ¶é‡æ–°å®‰è£…

```shell
celer install ffmpeg@5.1.6 --force
# æˆ–ä½¿ç”¨ç®€å†™
celer install ffmpeg@5.1.6 -f
```

> å¼ºåˆ¶æ¨¡å¼ä¼šå…ˆç§»é™¤å·²å®‰è£…çš„åº“ï¼Œç„¶åé‡æ–°é…ç½®ã€æ„å»ºå’Œå®‰è£…ã€‚

### 4ï¸âƒ£ æŒ‡å®šå¹¶è¡Œæ„å»ºä»»åŠ¡æ•°

```shell
celer install ffmpeg@5.1.6 --jobs 8
# æˆ–ä½¿ç”¨ç®€å†™
celer install ffmpeg@5.1.6 -j 8
```

> æ ¹æ® CPU æ ¸å¿ƒæ•°è®¾ç½®åˆé€‚çš„å¹¶è¡Œä»»åŠ¡æ•°å¯ä»¥åŠ é€Ÿç¼–è¯‘ã€‚

### 5ï¸âƒ£ é€’å½’å¼ºåˆ¶é‡æ–°å®‰è£…ï¼ˆåŒ…å«ä¾èµ–ï¼‰

```shell
celer install ffmpeg@5.1.6 --force --recursive
# æˆ–ä½¿ç”¨ç®€å†™
celer install ffmpeg@5.1.6 -f -r
```

> é€’å½’æ¨¡å¼ä¼šé‡æ–°å®‰è£…ç›®æ ‡åº“åŠå…¶æ‰€æœ‰ä¾èµ–é¡¹ã€‚

### 6ï¸âƒ£ å®‰è£…åå­˜å…¥ç¼“å­˜

```shell
celer install ffmpeg@5.1.6 --store-cache --cache-token token_xxx
# æˆ–ä½¿ç”¨ç®€å†™
celer install ffmpeg@5.1.6 -s -t token_xxx
```

> åœ¨ `binary_cache` æ ¹ç›®å½•ä¸‹éœ€è¦å­˜å‚¨åä¸º `token` çš„æ–‡æœ¬æ–‡ä»¶ï¼Œè®°å½•ç”¨äºæ ¡éªŒçš„ä»¤ç‰Œã€‚åªæœ‰ä»¤ç‰Œæ ¡éªŒé€šè¿‡æ‰å…è®¸ä¸Šä¼ æ„å»ºäº§ç‰©ç¼“å­˜ã€‚

---

## ğŸ“ å®‰è£…ç›®å½•ç»“æ„

```
â””â”€ installed
    â”œâ”€â”€ celer
    â”‚Â Â  â”œâ”€â”€ hash
    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ nasm@2.16.03@x86_64-windows-dev.hash
    â”‚Â Â  â”‚Â Â  â””â”€â”€ x264@stable@x86_64-windows-msvc-community-14.44@project_test_02@release.hash
    â”‚Â Â  â””â”€â”€ info
    â”‚Â Â      â”œâ”€â”€ nasm@2.16.03@x86_64-windows-dev.trace
    â”‚Â Â      â””â”€â”€ x264@stable@x86_64-windows-msvc-community-14.44@project_test_02@release.trace
    â”œâ”€â”€ x86_64-windows-dev
    â”‚Â Â  â”œâ”€â”€ LICENSE
    â”‚Â Â  â””â”€â”€ bin
    â”‚Â Â      â”œâ”€â”€ nasm.exe
    â”‚Â Â      â””â”€â”€ ndisasm.exe
    â””â”€â”€ x86_64-windows-msvc-community-14.44@project_test_02@release
        â”œâ”€â”€ bin
        â”‚Â Â  â”œâ”€â”€ libx264-164.dll
        â”‚Â Â  â””â”€â”€ x264.exe
        â”œâ”€â”€ include
        â”‚Â Â  â”œâ”€â”€ x264.h
        â”‚Â Â  â””â”€â”€ x264_config.h
        â””â”€â”€ lib
            â”œâ”€â”€ cmake
            â”‚Â Â  â””â”€â”€ x264
            â”‚Â Â      â”œâ”€â”€ x264ConfigVersion.cmake
            â”‚Â Â      â”œâ”€â”€ x264Targets-release.cmake
            â”‚Â Â      â”œâ”€â”€ x264Targets.cmake
            â”‚Â Â      â””â”€â”€ x264config.cmake
            â”œâ”€â”€ libx264.lib
            â””â”€â”€ pkgconfig
                â””â”€â”€ x264.pc
```

### ç›®å½•è¯´æ˜

#### 1ï¸âƒ£ `installed/celer/hash/`

å­˜å‚¨æ¯ä¸ªåº“çš„å“ˆå¸Œé”®å€¼ã€‚å½“ `celer.toml` ä¸­é…ç½®äº† `binary_cache` æ—¶ï¼Œè¯¥å“ˆå¸Œå€¼å°†ä¸æ„å»ºäº§ç‰©ä¸€èµ·ä»¥é”®å€¼å¯¹å½¢å¼å­˜å‚¨ã€‚å¦‚æœåç»­ç¼–è¯‘æ—¶åœ¨ç¼“å­˜ä¸­å‘ç°åŒ¹é…çš„å“ˆå¸Œå€¼ï¼Œå°†ç›´æ¥å¤ç”¨å¯¹åº”çš„æ„å»ºäº§ç‰©ï¼Œä»¥é¿å…ä¸å¿…è¦çš„é‡å¤ç¼–è¯‘ã€‚

#### 2ï¸âƒ£ `installed/celer/info/`

å­˜å‚¨æ¯ä¸ªåº“çš„å®‰è£…æ–‡ä»¶æ¸…å•ï¼ˆ`.trace` æ–‡ä»¶ï¼‰ã€‚æ­¤æ–‡ä»¶æ˜¯åˆ¤æ–­åº“æ˜¯å¦å·²å®‰è£…çš„ä¸»è¦å‡­è¯ï¼Œä¹Ÿæ˜¯å®ç°ç§»é™¤å·²å®‰è£…åº“çš„åŸºç¡€ã€‚

#### 3ï¸âƒ£ `installed/x86_64-windows-dev/`

è®¸å¤šç¬¬ä¸‰æ–¹åº“åœ¨ç¼–è¯‘æ—¶éœ€è¦é¢å¤–çš„æ„å»ºå·¥å…·ï¼ˆä¾‹å¦‚ x264 éœ€è¦ NASMï¼‰ã€‚Celer é€šè¿‡å°†è¿™ç±»å·¥å…·å®‰è£…è‡³è¯¥ç›®å½•æ¥ç®¡ç†å¼€å‘ä¾èµ–ï¼ŒåŒæ—¶ä¼šè‡ªåŠ¨å°† `installed/x86_64-windows-dev/bin` è·¯å¾„æ·»åŠ è‡³ `PATH` ç¯å¢ƒå˜é‡ã€‚

åœ¨ Linux ç³»ç»Ÿä¸‹ï¼ŒCeler è¿˜ä¼šä»æºç ç¼–è¯‘å®‰è£… autoconfã€automakeã€m4ã€libtool å’Œ gettext ç­‰å·¥å…·è‡³æ­¤ç›®å½•ã€‚

#### 4ï¸âƒ£ `installed/x86_64-windows-msvc-community-14.44@project_test_02@release/`

æ‰€æœ‰ç¬¬ä¸‰æ–¹åº“çš„ç¼–è¯‘äº§ç‰©å­˜å‚¨ç›®å½•ã€‚åœ¨ `toolchain_file.cmake` ä¸­ï¼Œ`CMAKE_PREFIX_PATH` ä¼šè¢«è®¾ç½®ä¸ºè¯¥ç›®å½•ï¼Œä»¥ä¾¿ CMake èƒ½å¤Ÿåœ¨è¯¥ç›®å½•ä¸‹æŸ¥æ‰¾ç¬¬ä¸‰æ–¹åº“ã€‚

ç›®å½•åç§°åŒ…å«ï¼š
- å¹³å°æ¶æ„ï¼ˆ`x86_64-windows`ï¼‰
- å·¥å…·é“¾ç‰ˆæœ¬ï¼ˆ`msvc-community-14.44`ï¼‰
- é¡¹ç›®åç§°ï¼ˆ`project_test_02`ï¼‰
- æ„å»ºç±»å‹ï¼ˆ`release`ï¼‰

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å¿«é€Ÿå¼€å§‹](./quick_start.md)
- [Deploy å‘½ä»¤](./cmd_deploy.md) - éƒ¨ç½²æ•´ä¸ªé¡¹ç›®
- [Remove å‘½ä»¤](./cmd_remove.md) - ç§»é™¤å·²å®‰è£…çš„åº“
- [ç«¯å£é…ç½®](./advance_port.md) - é…ç½®ç¬¬ä¸‰æ–¹åº“
- [äºŒè¿›åˆ¶ç¼“å­˜](./advance_cache_artifacts.md) - é…ç½®æ„å»ºç¼“å­˜

---

**éœ€è¦å¸®åŠ©ï¼Ÿ** [æŠ¥å‘Šé—®é¢˜](https://github.com/celer-pkg/celer/issues) æˆ–æŸ¥çœ‹æˆ‘ä»¬çš„ [æ–‡æ¡£](../../README.md)
